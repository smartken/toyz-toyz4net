

var varAddress = "@北京|BEIJING@上海|SHANGHAI@天津|TIANJIN@重庆|CHONGQING@阿克苏|AKESU@安宁|ANNING@安庆|ANQING@鞍山|ANSHAN@安顺|ANSHUN@安阳|ANYANG@白城|BAICHENG@白山|BAISHAN@白银|BAIYIN@蚌埠|BENGBU@保定|BAODING@宝鸡|BAOJI@保山|BAOSHAN@巴中|BAZHONG@北海|BEIHAI@本溪|BENXI@滨州|BINZHOU@博乐|BOLE@亳州|BOZHOU@沧州|CANGZHOU@常德|CHANGDE@昌吉|CHANGJI@常熟|CHANGSHU@常州|CHANGZHOU@巢湖|CHAOHU@朝阳|CHAOYANG@潮州|CHAOZHOU@承德|CHENGDE@成都|CHENGDU@城固|CHENGGU@郴州|CHENZHOU@赤壁|CHIBI@赤峰|CHIFENG@赤水|CHISHUI@池州|CHIZHOU@崇左|CHONGZUO@楚雄|CHUXIONG@滁州|CHUZHOU@慈溪|CIXI@从化|CONGHUA@大理|DALI@大连|DALIAN@丹东|DANDONG@丹阳|DANYANG@大庆|DAQING@大同|DATONG@达州|DAZHOU@德阳|DEYANG@德州|DEZHOU@东莞|DONGGUAN@东阳|DONGYANG@东营|DONGYING@都匀|DOUYUN@敦化|DUNHUA@鄂尔多斯|EERDUOSI@恩施|ENSHI@防城港|FANGCHENGGANG@肥城|FEICHENG@奉化|FENGHUA@抚顺|FUSHUN@阜新|FUXIN@阜阳|FUYANG@富阳|FUYANG1@福州|FUZHOU@抚州|FUZHOU1@赣榆|GANYU@赣州|GANZHOU@高明|GAOMING@高邮|GAOYOU@格尔木|GEERMU@个旧|GEJIU@巩义|GONGYI@广安|GUANGAN@广元|GUANGYUAN@广州|GUANGZHOU@古包头|GUBAOTOU@贵港|GUIGANG@桂林|GUILIN@贵阳|GUIYANG@固原|GUYUAN@哈尔滨|HAERBIN@海城|HAICHENG@海口|HAIKOU@海门|HAIMEN@海宁|HAINING@哈密|HAMI@邯郸|HANDAN@杭州|HANGZHOU@汉中|HANZHONG@鹤壁|HEBI@合肥|HEFEI@衡水|HENGSHUI@衡阳|HENGYANG@和田|HETIAN@河源|HEYUAN@菏泽|HEZE@花都|HUADOU@淮安|HUAIAN@淮北|HUAIBEI@怀化|HUAIHUA@淮南|HUAINAN@黄冈|HUANGGANG@黄山|HUANGSHAN@黄石|HUANGSHI@呼和浩特|HUHEHAOTE@惠州|HUIZHOU@葫芦岛|HULUDAO@湖州|HUZHOU@佳木斯|JIAMUSI@吉安|JIAN@江都|JIANGDOU@江门|JIANGMEN@江阴|JIANGYIN@胶南|JIAONAN@胶州|JIAOZHOU@焦作|JIAOZUO@嘉善|JIASHAN@嘉兴|JIAXING@介休|JIEXIU@吉林|JILIN@即墨|JIMO@济南|JINAN@晋城|JINCHENG@景德镇|JINGDEZHEN@景洪|JINGHONG@靖江|JINGJIANG@荆门|JINGMEN@荆州|JINGZHOU@金华|JINHUA@集宁|JINING1@济宁|JINING@晋江|JINJIANG@金坛|JINTAN@晋中|JINZHONG@锦州|JINZHOU@吉首|JISHOU@九江|JIUJIANG@酒泉|JIUQUAN@鸡西|JIXI@济源|JIYUAN@句容|JURONG@开封|KAIFENG@凯里|KAILI@开平|KAIPING@开远|KAIYUAN@喀什|KASHEN@克拉玛依|KELAMAYI@库尔勒|KUERLE@奎屯|KUITUN@昆明|KUNMING@昆山|KUNSHAN@来宾|LAIBIN@莱芜|LAIWU@莱西|LAIXI@莱州|LAIZHOU@廊坊|LANGFANG@兰州|LANZHOU@拉萨|LASA@乐山|LESHAN@连云港|LIANYUNGANG@聊城|LIAOCHENG@辽阳|LIAOYANG@辽源|LIAOYUAN@丽江|LIJIANG@临安|LINAN@临沧|LINCANG@临汾|LINFEN@灵宝|LINGBAO@临河|LINHE@临夏|LINXIA@临沂|LINYI@丽水|LISHUI@六安|LIUAN@六盘水|LIUPANSHUI@柳州|LIUZHOU@溧阳|LIYANG@龙海|LONGHAI@龙岩|LONGYAN@娄底|LOUDI@漯河|LUOHE@洛阳|LUOYANG@潞西|LUXI@泸州|LUZHOU@吕梁|LVLIANG@旅顺|LVSHUN@马鞍山|MAANSHAN@茂名|MAOMING@梅河口|MEIHEKOU@眉山|MEISHAN@梅州|MEIZHOU@勉县|MIANXIAN@绵阳|MIANYANG@牡丹江|MUDANJIANG@南安|NANAN@南昌|NANCHANG@南充|NANCHONG@南京|NANJING@南宁|NANNING@南平|NANPING@南通|NANTONG@南阳|NANYANG@内江|NEIJIANG@宁波|NINGBO@宁德|NINGDE@盘锦|PANJIN@攀枝花|PANZHIHUA@蓬莱|PENGLAI@平顶山|PINGDINGSHAN@平度|PINGDU@平湖|PINGHU@平凉|PINGLIANG@萍乡|PINGXIANG@普兰店|PULANDIAN@普宁|PUNING@莆田|PUTIAN@濮阳|PUYANG@黔南|QIANNAN@启东|QIDONG@青岛|QINGDAO@庆阳|QINGYANG@清远|QINGYUAN@青州|QINGZHOU@秦皇岛|QINHUANGDAO@钦州|QINZHOU@琼海|QIONGHAI@齐齐哈尔|QIQIHAER@泉州|QUANZHOU@曲靖|QUJING@衢州|QUZHOU@日喀则|RIKAZE@日照|RIZHAO@荣成|RONGCHENG@如皋|RUGAO@瑞安|RUIAN@乳山|RUSHAN@三门峡|SANMENXIA@三明|SANMING@三亚|SANYA@厦门|XIAMEN@佛山|SHAN@商洛|SHANGLUO@商丘|SHANGQIU@上饶|SHANGRAO@上虞|SHANGYU@汕头|SHANTOU@安康|ANKANG@韶关|SHAOGUAN@绍兴|SHAOXING@邵阳|SHAOYANG@沈阳|SHENYANG@深圳|SHENZHEN@石河子|SHIHEZI@石家庄|SHIJIAZHUANG@石林|SHILIN@石狮|SHISHI@十堰|SHIYAN@寿光|SHOUGUANG@双鸭山|SHUANGYASHAN@朔州|SHUOZHOU@沭阳|SHUYANG@思茅|SIMAO@四平|SIPING@松原|SONGYUAN@遂宁|SUINING@随州|SUIZHOU@苏州|SUZHOU@塔城|TACHENG@泰安|TAIAN@太仓|TAICANG@泰兴|TAIXING@太原|TAIYUAN@泰州|TAIZHOU@台州|TAIZHOU1@唐山|TANGSHAN@腾冲|TENGCHONG@滕州|TENGZHOU@天门|TIANMEN@天水|TIANSHUI@铁岭|TIELING@铜川|TONGCHUAN@通辽|TONGLIAO@铜陵|TONGLING@桐庐|TONGLU@铜仁|TONGREN@桐乡|TONGXIANG@通州|TONGZHOU@通化|TONGHUA@吐鲁番|TULUFAN@瓦房店|WAFANGDIAN@潍坊|WEIFANG@威海|WEIHAI@渭南|WEINAN@文登|WENDENG@温岭|WENLING@温州|WENZHOU@乌海|WUHAI@武汉|WUHAN@芜湖|WUHU@吴江|WUJIANG@乌兰浩特|WULANHAOTE@武威|WUWEI@无锡|WUXI@梧州|WUZHOU@西安|XIAN@项城|XIANGCHENG@襄樊|XIANGFAN@香格里拉|XIANGGELILA@象山|XIANGSHAN@湘潭|XIANGTAN@湘乡|XIANGXIANG@咸宁|XIANNING@仙桃|XIANTAO@咸阳|XIANYANG@西藏|XICANG@西昌|XICHANG@邢台|XINGTAI@兴义|XINGYI@西宁|XINING@新乡|XINXIANG@信阳|XINYANG@新余|XINYU@忻州|XINZHOU@宿迁|SUQIAN@宿豫|SUYU@宿州|SUZHOU1@宣城|XUANCHENG@许昌|XUCHANG@徐州|XUZHOU@雅安|YAAN@牙克石|YAKESHI@延安|YANAN@延边|YANBIAN@盐城|YANCHENG@阳江|YANGJIANG@阳泉|YANGQUAN@扬州|YANGZHOU@延吉|YANJI@烟台|YANTAI@兖州|YANZHOU@宜宾|YIBIN@宜昌|YICHANG@宜春|YICHUN@伊春|YICHUN1@伊犁|YILI@银川|YINCHUAN@营口|YINGKOU@鹰潭|YINGTAN@伊宁|YINING@义乌|YIWU@宜兴|YIXING@益阳|YIYANG@永康|YONGKANG@永州|YONGZHOU@岳阳|YUEYANG@玉环|YUHUAN@榆林|YULIN1@玉林|YULIN@运城|YUNCHENG@玉溪|YUXI@余姚|YUYAO@枣庄|ZAOZHUANG@增城|ZENGCHENG@长春|CHANGCHUN@长海|CHANGHAI@张家港|ZHANGJIAGANG@张家界|ZHANGJIAJIE@张家口|ZHANGJIAKOU@长乐|CHANGLE@章丘|ZHANGQIU@长沙|CHANGSHA@张掖|ZHANGYE@长治|CHANGZHI@漳州|ZHANGZHOU@湛江|ZHANJIANG@肇东|ZHAODONG@肇庆|ZHAOQING@昭通|ZHAOTONG@郑州|ZHENGZHOU@镇江|ZHENJIANG@中山|ZHONGSHAN@周口|ZHOUKOU@舟山|ZHOUSHAN@诸城|ZHUCHENG@珠海|ZHUHAI@诸暨|ZHUJI@驻马店|ZHUMADIAN@株洲|ZHUZHOU@淄博|ZIBO@自贡|ZIGONG@遵义|ZUNYI@乌鲁木齐|WULUMUQI@福清|FUQING@鄂州|EZHOU@包头|BAOTOU@萧山|XIAOSHAN@宣化|XUANHUA@江油|JIANGYOU@资阳|ZIYANG@辛集|XINJI@佛山|FOSHAN@万州|WANZHOU@邹城|ZOUCHENG@邵武|SHAOWU@姜堰|JIANGYAN@湘阴|XIANGYIN@松江|SONGJIANG@七台河|QITAIHE@醴陵|LILING@涪陵|FULING@公主岭|GONGZHULING@歙县|SHEXIAN@兴化|XINGHUA";
var CityPicker=  function(args) {
	this.citys = [];
	this.formatData();
	this.layid = null;
	this.linum = 12;// 显示城市里列表的个数
	this.hints = {
		succ : "已找到：%word%",
		fail : "未找到：%word%",
		find : "请输入拼音或汉字！"
	};
	this.maxpage = 5;// 显示的页码数
	this.pageleft = '<-';
	this.pageright = '->';
	this.as = []; // 存储页码
	this.inputName = args["inputName"] || "";
	this.inputValue = args["inputValue"] || "";
	this.init(args);
}

CityPicker.prototype = {
    debug: function(ts) {
        if (false) {
            if (!this.debugDom) {
                var dom = this.createDOM('div');
                with (dom.style) {
                    position = "absolute";
                    width = "200px";
                    height = "300px";
                    right = "0px";
                    top = "0px";
                }
                ;
                this.debugDom = dom;
            }
            this.debugDom.innerHTML = ts + '<br />' + this.debugDom.innerHTML;
        }
        ;
    },
    isChrome: function() {
        return window.MessageEvent && !document.getBoxObjectFor ? true : false;
    },
    isIE: function() {
        return navigator.appName == "Microsoft Internet Explorer" ? true
				: false;
    },
    $: function(ts) {
        return document.getElementById(ts);
    },
    createDOM: function(e, p) {
        var el = document.createElement(e);
        if (!p)
            p = document.body;
        p.appendChild(el);
        return el;
    },
    addEvent: function(el, event, fn) {
        el.addEventListener ? el.addEventListener(event, fn, false) : el
				.attachEvent("on" + event, fn);
    },
    /**
    * 获取元素位置
    * 
    * @param obj
    * @return
    */
    getPos: function(obj) {
        var left = obj.offsetLeft;
        var top = obj.offsetTop;
        var height = obj.offsetHeight;
        var width = obj.offsetWidth;
        // this.debug(height);
        while (obj.offsetParent) {
            obj = obj.offsetParent;
            left += obj.offsetLeft;
            top += obj.offsetTop;
        }
        return {
            oleft: left,
            otop: top,
            owidth: width,
            oheight: height
        };
    },
    formatData: function(str) {
        str = varAddress;
        oc = str.split('@');
        var citys = [];
        for (var i = 0, end = oc.length; i < end; i++) {
            var oa = oc[i].split('|');
            if (!oa[0])
                continue;
            citys[citys.length] = {
                dp: oa[1].toLowerCase(),
                cp: oa[1].toLowerCase(),
                name: oa[0]
            };
        }
        this.citys = citys;
    },
    init: function(args) {
        this.layid = args.layid;
        if (args.num)
            this.linum = Number(args.num);
    },
    begin: function() {
        if (!this.$(this.layid))
            return;
        this.drawInput();
        this.drawdlg();
        this.drawhint();
        this.drawli();
        this.drawpage();
        this.resizeWindow();
    },
    resizeWindow: function() {
        if (true) {
            this.addEvent(window, "resize", this.resetDlgPos());
            return;
        }

        var od = this.createDOM('div');
        od.style.width = "100%";
        this.addEvent(od, "resize", this.resetDlgPos());
    },
    resetDlgPos: function() {
        _this = this;
        var fun = function() {
            _this.setDlgPos();
        };
        return fun;
    },
    setDlgPos: function() {
        var span = this.inputspan;
        var spanpos = this.getPos(span);
        var dlg = this.dlg;
        var oleft = spanpos.oleft + 'px';
        var tbody = (document.compatMode != "BackCompat") ? document.documentElement
				: document.body;
        if (spanpos.oleft + dlg.offsetWidth > tbody.clientWidth)
            oleft = (spanpos.oleft + spanpos.owidth - dlg.offsetWidth) + 'px';
        var otop = (spanpos.otop + spanpos.oheight - 1) + 'px';
        with (dlg.style) {
            position = "absolute";
            left = oleft;
            top = otop;
        }
    },
    /**
    * 输入框
    * 
    * @return
    */
    drawInput: function() {
        var inputspan = this.createDOM('input', this.$(this.layid));
        this.inputspan = inputspan;
        inputspan.className = "CityPicker_input";
        inputspan.name = this.inputName;
        inputspan.value = this.inputValue;
        inputspan.autocomplete = "off";
        this.addEvent(inputspan, 'focus', function(el) {
            return function() {
                el.focusInput();
            };
        } (this));
        this.addEvent(inputspan, 'blur', function(el) {
            return function() {
                el.blurInput();
            };
        } (this));
        // var keypress = this.isIE() ? 'propertychange' : 'input';
        keypress = 'keydown';
        this.addEvent(inputspan, keypress, function(el) {
            return function(event) {
                el.keydown(event);
            };
        } (this));
        if (!this.isIE())
            this.addEvent(inputspan, 'input', function(el) {
                return function(event) {
                    el.keydown(event);
                };
            } (this));

    },
    /**
    * 键盘事件
    */
    keydown: function(event) {
        var key = event.keyCode || event.wich;
        switch (key) {
            /*
            * 回车键
            */ 
            case 13:
                // this.drawCityList();
                this.clickli();
                this.inputspan.blur();
                break;
            /*
            * 后退键
            */ 
            case 8:

                setTimeout(function(el) {
                    return function() {
                        el.drawCityList();
                    };
                } (this), 10);
                break;
            /*
            * left/right键
            */ 
            case 37:
                break;
            case 39:
                break;
            /*
            * up键
            */ 
            case 38:
                this.choseList('up');
                break;
            /*
            * down键
            */ 
            case 40:
                this.choseList('down');
                break;
            default:
                this.currpage = null;
                setTimeout(function(el) {
                    return function() {
                        el.drawCityList();
                    };
                } (this), 10);
        }
    },
    /**
    * 画可选择城市列表
    */
    drawCityList: function() {
        var currpage = this.currpage ? this.currpage : 1;
        var rs = this.findcitys();
        this.pushLi(rs, currpage);
        this.pushPageHTML(rs, currpage);
        //this.dlgheight();
    },
    /**
    * 给li里填充城市
    */
    pushLi: function(rs, currpage) {
        currpage = currpage ? currpage : 1;
        var begin = (currpage - 1) * this.linum;
        var end1 = (currpage) * this.linum;
        var end2 = rs.length;
        var end = end1 > end2 ? end2 : end1;

        if (rs.length == 0) {
            this.hint.innerHTML = this.hints.fail.replace(/%word%/g,
					this.inputspan.value);
            return;
        }
        var lis = this.lis;
        for (var i = 0; i < this.linum; i++) {
            lis[i].className = "CityPicker_li_out";
            if (begin < end) {
                lis[i].innerHTML = rs[begin].name
						+ '<span class="CityPicker_pinyin">' + rs[begin].cp
						+ '</span>';
                lis[i].name = begin;
                lis[i].style.display = "";
            } else {
                lis[i].innerHTML = "";
                lis[i].style.display = "none";

            }
            this.debug('lis[' + i + '].display is' + lis[i].style.display);
            begin++;
            if (!this.inputspan.value)
                this.hint.innerHTML = this.hints.find;
            else
                this.hint.innerHTML = this.hints.succ.replace(/%word%/g,
						this.inputspan.value);
            ;
        }
        lis[0].className = "CityPicker_li_on";
        this.curroli = lis[0];
        this.currcitys = rs;
        this.currLi = 0;
    },
    /**
    * 填充page页码
    */
    pushPageHTML: function(rs, currpage) {
        var as = this.as;
        currpage = currpage ? currpage : 1;
        var pagediv = this.pagediv;
        var maxpage = this.maxpage;
        var linum = this.linum;
        if (linum >= rs.length) {
            pagediv.style.display = 'none';
            return;
        } else {
            pagediv.style.display = '';
        }
        pagelen = Math.ceil(rs.length / this.linum);

        if (currpage > 1) {
            as[0].style.display = "";
            as[0].name = currpage - 1;
        } else {
            as[0].style.display = "none";
        }

        if (pagelen <= maxpage) {
            this.pushAinpage(1, pagelen, currpage);
        } else {
            var len = Math.ceil(maxpage / 2);
            if ((currpage + len) > pagelen) {
                this.pushAinpage(pagelen - maxpage + 1, pagelen, currpage);
            } else {
                if (currpage - len > 0)
                    var j = currpage + 1 - len;
                else
                    var j = 1;
                var z = j + maxpage;
                this.pushAinpage(j, z, currpage);
            }
        }
        if (currpage < pagelen) {
            as[as.length - 1].style.display = "";
            as[as.length - 1].name = currpage + 1;
        } else {
            as[as.length - 1].style.display = "none";
        }
    },
    pushAinpage: function(begin, end, currpage) {
        maxpage = this.maxpage;
        var as = this.as;
        for (var i = 1; i <= maxpage; i++) {
            var oa = as[i];
            if (begin <= end) {
                oa.innerHTML = begin;
                oa.name = begin;
                oa.style.display = "";
                if (begin == currpage) {
                    oa.className = "CityPicker_pageon";
                } else {
                    oa.className = "CityPicker_pageout";
                }
                begin++;
            } else
                oa.style.display = "none";
        }
    },
    /**
    * 选择目标
    */
    clickli: function(li) {
        li = li ? li : this.curroli;
        this.delDlgEvent();
        var ob = this.currcitys;
        this.inputspan.value = ob[li.name].name;
        this.currpage = null;
        this.hidedlg();
    },
    /**
    * 键盘选择li
    */
    choseList: function(key) {
        var li = this.currLi;
        var lis = this.lis;
        if (lis[li].className != "CityPicker_li_over")
            lis[li].className = 'CityPicker_li_out';
        if (key == "down") {
            li++;
            if (li >= this.linum || lis[li].style.display == "none")
                li = 0;

        }
        if (key == "up") {
            li--;
            if (li < 0)
                li = this.linum - 1;
            while (lis[li].style.display == "none") {
                li--;
            }
        }
        this.currLi = li;
        this.curroli = lis[li];
        if (lis[li].className != "CityPicker_li_over")
            lis[li].className = 'CityPicker_li_on';
    },
    /**
    * 根据关键字找相关城市
    */
    findcitys: function() {
        var words = this.inputspan.value;
        this.currwords = words;
        var citys = this.citys;
        if (!words)
            return citys.slice(0, this.linum);
        words = words.toLowerCase();
        var rs = [];
        for (var i = 0, end = citys.length; i < end; i++) {
            var oc = citys[i];
            /*
            * if (oc.cp.indexOf(words) != -1 || oc.dp.indexOf(words) != -1 ||
            * oc.name.indexOf(words) != -1) { rs.push(oc); }
            */
            if (oc.cp.indexOf(words) == 0 || oc.name.indexOf(words) != -1) {
                rs.push(oc);
            }
        }
        return rs;
    },
    /**
    * 对话框
    * 
    * @return
    */
    drawdlg: function() {
        var dlg = this.createDOM('div');
        dlg.className = "CityPicker_dlg";
        this.dlg = dlg;
        this.hidedlg();
    },
    /**
    * 对话框处理
    * 
    * @return
    */
    delDlgEvent: function() {
        var dlg = this.dlg;
        dlg.onmouseover = null;
        dlg.onmouseout = null;

    },
    addDlgEvent: function() {
        var dlg = this.dlg;
        dlg.onmouseover = function(el) {
            return function() {
                el.ondlg = true;
            };
        } (this);
        dlg.onmouseout = function(el) {
            return function() {
                el.inputspan.focus();
                el.ondlg = false;
            };
        } (this);
    },
    /**
    * 提示框
    */
    drawhint: function() {
        var hint = this.createDOM('div', this.dlg);
        hint.className = "CityPicker_hint";
        this.hint = hint;
    },
    /**
    * li列表
    */
    drawli: function() {
        var div = this.createDOM('div', this.dlg);
        div.className = "CityPicker_uldiv";
        var ul = this.createDOM('ul', div);
        ul.className = "CityPicker_ul";
        var lis = [];
        for (var i = 0; i < this.linum; i++) {
            var li = this.createDOM('li', ul);
            lis[i] = li;
            li.className = "CityPicker_li_out";
            this.addEvent(li, 'mouseover', function(el, ol) {
                return function() {
                    el.mouseOverLi(ol);
                };
            } (this, li));
            this.addEvent(li, 'mouseout', function(el, ol) {
                return function() {
                    el.mouseOutLi(ol);
                };
            } (this, li));
            this.addEvent(li, 'click', function(el, ol) {
                return function() {
                    el.clickli(ol);
                };
            } (this, li));
        }
        this.lis = lis;
    },
    /**
    * 画页码框架
    */
    drawpage: function() {
        var maxpage = this.maxpage;
        var div = this.createDOM('div', this.dlg);
        div.className = "CityPicker_pagediv";
        this.pagediv = div;
        div.style.display = "none";
        var as = [];
        for (var i = 0; i < maxpage + 2; i++) {
            var fat = this.createDOM('a', div);
            as.push(fat);
            fat.href = "javascript:void(0)";
            this.addEvent(fat, 'click', function(el, a) {
                return function() {
                    el.clickA(a);
                };
            } (this, fat));
        }
        as[0].className = "CityPicker_pageleft";
        as[0].innerHTML = this.pageleft;
        as[as.length - 1].className = "CityPicker_pageright";
        as[as.length - 1].innerHTML = this.pageright;
        this.as = as;
    },
    clickA: function(a) {
        this.debug('click A and this.ondlg' + this.ondlg);
        this.currpage = Number(a.name);
        this.drawCityList();
    },
    /**
    * 事件
    */
    focusInput: function() {
        this.addDlgEvent();
        this.drawCityList();
        this.showdlg();
    },
    blurInput: function() {
        this.debug('blurInput and this.ondlg' + this.ondlg);
        if (!this.ondlg)
            this.hidedlg();
    },
    mouseOverLi: function(li) {
        li.className = "CityPicker_li_over";
        this.debug('mouse over li!!');
    },
    mouseOutLi: function(li) {
        if (li == this.lis[this.currLi]) {
            li.className = "CityPicker_li_on";
        }
        if (li.className != "CityPicker_li_on")
            li.className = 'CityPicker_li_out';
    },
    showdlg: function() {
        this.setDlgPos();
        this.dlg.style.display = '';
        /*
        * 
        */

    },
    dlgheight: function() {
        var _this = this;
        setTimeout(function() { _this.dlg.style.height = "auto"; }, 0);
    },
    hidedlg: function() {
        this.dlg.style.display = 'none';
    }
};
